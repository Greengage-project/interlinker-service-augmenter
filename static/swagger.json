openapi: 3.0.1

info:
  title: Annotator Interlinker
  description: 'This API allows to obtain Annotations of Public Services Descriptions'
  termsOfService: http://interlink-project.eu/terms/
  contact:
    email: d.silva@deusto.es
  license:
    name: Apache 2.0
    url: http://www.apache.org/licenses/LICENSE-2.0.html
  version: 1.0.0

servers:
- url: https://127.0.0.1:5000/
tags:
- name: annotation
  description: Annotation made in a web document


paths:
    /annotations:
        get:
            tags:
            - annotation
            summary: List Annotations
            description: List all the annotations registered
            
            parameters:
                - name: limit
                in: query
                description: Limits the number of items on a page
                schema:
                    type: integer
                - name: offset
                in: query
                description: Specifies the page number of the annotations to be displayed
                schema:
                    type: integer

            responses:
                200:
                description: successful operation
                content:
                    application/json:
                    schema:
                        type: array
                        items:
                        $ref: '#/components/schemas/Annotation'
                400:
                description: Invalid request
                content:
                    application/json:
                    schema:
                        type: object
                        properties:   
                        message:
                            type: string
        


    /annotation:
        post:
            description: Lets a user add a new annotation
            requestBody:
                required: true
                content:
                application/json:
                    schema:
                        type: array
                        items:
                            $ref: '#/components/schemas/Annotation'

            responses:
                '200':
                description: Successfully created a new artist

                '400':
                description: Invalid request
                content:
                    application/json:
                    schema:
                        type: object
                        properties:   
                        message:
                            type: string

      
components:
  schemas:
    Annotation:
      type: object
      properties:
        section_title:
          type: string
        ranges:
          - endOffset: 
              type: integer
          - startOffset: 
              type: integer
          - start: 
              type: string
          - end:
              type: string
        created:
          type: date-time
        section:
          type: string
        uri:
          type: string
        quote:
          type: string
        permissions:
          - read:
             type: string
          - update:
             type: string
          - admin:
             type: string
          - delete:
             type:string
        data_creacio:
          type: string
        text:
          type: string
        category:
          type: string
        user:
          type:string
        updated:
          type: date-time
        consumer:
          type: string
        order:
          type: string
        id:
          type: string
     
    