{% extends "templateV2.html" %} {% block title %} Servicepedia {% endblock %} {%
block content %}




<hr />

<div  style="display: block">
  <div class="row">
  <div class="col-8"  style="text-align: center;margin-top: 4px;display: inline-flex;">
    <a  href="/website/modifica/{{ current_user.email }}/{{ description['url']}}"   class="bi bi-eye" style="zoom: 2;-moz-transform: scale(2);padding: 0rem;margin-right: 0.2em;color: rgb(0, 72, 100);" data-bs-toggle="tooltip" data-bs-placement="right" title="Preview"  ></a>

    <h4 style="color: rgb(0, 110, 153);">{{description['title']|striptags}}</h4>

  </div>
  <div class="col-4" >

 
    <div class="hstack gap-0" >

      {% if categoryLabel != 'feedback'%}
        <a class="bg-light border ms-auto" style="border-radius: 5px 0px 0px 5px;" href="/description/{{description.id}}?category=feedback" >Feedback</a>
      {% else %}
        <a class="btn-secondary ms-auto active"  style="border-radius: 5px 0px 0px 5px;" href="/description/{{description.id}}?category=feedback" >Feedback</a>
      {% endif %}
      

      {% if categoryLabel != 'term'%}
        <a class="bg-light border " href="/description/{{description.id}}?category=term" >Term</a>
      {% else %}
        <a class="btn-secondary active " href="/description/{{description.id}}?category=term" >Term</a>
      {% endif %}


      {% if categoryLabel != 'question'%}
        <a class="bg-light border " href="/description/{{description.id}}?category=question" >Question</a>
      {% else %}
        <a class="btn-secondary active " href="/description/{{description.id}}?category=question" >Question</a>
      {% endif %}
      
      
      <div class="vr" style="padding-right: 3px;"></div>


      {% if categoryLabel != 'all'%}
        <a class="bg-light border "  style="border-radius: 0px 5px 5px 0px;" href="/description/{{description.id}}?category=all" >All</a>
      {% else %}
        <a class="btn-secondary active "  style="border-radius: 0px 5px 5px 0px;" href="/description/{{description.id}}?category=all" >All</a>
      {% endif %}

     

    </div>
 
  </div>
</div>
  
</div>

<hr />
{% block annotations %}
<table class="table">
  <thead>
    <tr>
 
      <th scope="col-3">Category</th>
    
      <th scope="col-3" style="text-align: center;">Id</th>
      <th scope="col-3" style="text-align: center;">State</th>      
      <th scope="col-3">Description</th>
      <th scope="col-2" style="text-align: center;">Update Date</th>
      <th scope="col-2" style="text-align: center;">Nro Replies</th>
      <th scope="col-2" style="text-align: center;">Options</th>
    </tr>
  </thead>
  <tbody>
    {% for anotation in anotations %} {% if anotation.category != 'reply' %}
    <tr>
   
      <td>
        {% if anotation.category == 'feedback' %}
          <div class='annotation-cat annotation-cat-feedback'>
        {% endif %}
        {% if anotation.category == 'question' %}
          <div class='annotation-cat annotation-cat-question'>
        {% endif %}
        {% if anotation.category == 'term' %}
          <div class='annotation-cat annotation-cat-term'>
        {% endif %}


         {{ anotation.category[0]|upper }}{{ anotation.category[1:] }} 
        </div>
      </td>
   
      <td style="text-align: center;">{{ anotation.id}} </td>
      <td style="text-align: center;">{{ anotation.state|estadosAnnotation}} </td>
      <td>{{ anotation.text|striptags}} </td>
      <td style="text-align: center;">{{ anotation.updated|datetimeformat('DD-MM-YYYY HH:mm')}}</td>
      <td style="text-align: center;"> 
      
        <button
                type="button"
                class="btn btn-outline-success position-relative"
                alt="Replies"
                data-bs-toggle="tooltip"
                data-bs-placement="left"
                title="Replies"
              >
              {{ anotation.nroReplies }}
        
              </button>
        
      
      </td>
      
      <td style="text-align: center;align-items: center;align-content: center;">
       
        <a  
        href="/subjectPage/{{ description.id }}/{{ anotation.id }}" class="btn btn-outline-secondary" style="max-width: 70rem" ><i class="bi bi-box-arrow-in-right " style="width:100px;"></i></a>



      </td>
    </tr>
    {% endif %} {% endfor %}
  </tbody>
</table>
{% endblock %}

<script>
  var tooltipTriggerList = [].slice.call(
    document.querySelectorAll('[data-bs-toggle="tooltip"]')
  );
  var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
    return new bootstrap.Tooltip(tooltipTriggerEl);
  });
</script>

{% endblock %}
